<template name='controls'>
  <ul class='nav nav-pills nav-stacked'>
    <li class='dropdown'>
      <a class="dropdown-toggle" id="dReveal" role="button" data-toggle="dropdown" data-target="#" href="#">
        <b class="caret"></b>
        Reveal
      </a>
      <ul class="dropdown-menu" role="menu" aria-labelledby="dReveal" id='mReveal'>
        <li role='presentation'>
          <a role='menuitem' data-target='square' href='#'>Square</a>
          <a role='menuitem' data-target='word' href='#'>Word</a>
          <a role='menuitem' data-target='grid' href='#'>Grid</a>
        </li>
      </ul>
    </li>
    <li class='dropdown'>
      <a class="dropdown-toggle {{check_class}}" id="dCheck"
         role="button" data-toggle="dropdown"
         data-target="#" href="#">
        <b class="caret"></b>
        Check
      </a>
      <ul class="dropdown-menu" role="menu" aria-labelledby="dCheck" id='mCheck'>
        <li role='presentation'>
          <a role='menuitem' data-target='square' href='#'>Square</a>
          <a role='menuitem' data-target='word' href='#'>Word</a>
          <a role='menuitem' data-target='grid' href='#'>Grid</a>
        </li>
      </ul>
    </li>
    <li>
      <div class="btn-group implement">
        <button data-pencil="false" class="btn {{penclass}}">Pen</button>
        <button data-pencil="true" class="btn {{pencilclass}}">Pencil</button>
      </div>
    </li>
    <li class='player-label'> Now playing:</li>
    <li>
      <ul id='player-list'>
        {{#each players}}
        <li>
          {{#if isMe}}
          <input class='my-name' type='text' value='{{user.profile.name}}'>
          {{else}}
          {{user.profile.name}}
          {{/if}}
        </li>
        {{/each}}
        {{#if currentUser}}
        {{else}}
        <li>
          <strong>Log In</strong> to join this list
        </li>
        {{/if}}
      </ul>
    </li>
  </ul>
  <a href="#" class='sidebar-link' id='toggle-shortcuts'>Keyboard Shortcuts</a>
  <div id='shortcuts-help' style='display:none;'>
    <div class='contents'>
    <table>
      <tr>
        <th>&lt;Alt&gt;+p</th>
        <td>Toggle pencil/pen</td>
      </tr>
      <tr>
        <th>Arrows</th>
        <td>Move+toggle direction</td>
      </tr>
      <tr>
        <th>TAB</th>
        <td>Next clue</td>
      </tr>
      <tr>
        <th>Enter</th>
        <td>Toggle direction</td>
      </tr>
    </table>
  </div>
  </div>

  {{#if currentUser}}
  <a href="#" class="sidebar-link" id="toggle-settings" data-toggle="modal" data-target="#settingsModal">Settings</a>
  <div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="settingsModalLabel">Solving settings</h4>
        </div>
        <div class="modal-body">
          <form class="form-inline">
            <h5>After changing direction with the arrow keys:</h5>
            <label><input type="radio" name="settingArrows" value="stay" checked={{isSettingChecked 'settingArrows' 'stay' false}}>
            Stay in the same square</label><br>
            <label><input type="radio" name="settingArrows" value="move" checked={{isSettingChecked 'settingArrows' 'move' true}}>
            Move in the direction of the arrow</label><br>

            <h5>Within a word:</h5>
            <label><input type="radio" name="settingWithinWord" value="skip" checked={{isSettingChecked 'settingWithinWord' 'skip' false}}>
            Skip over filled squares</label><br>
            <label><input type="radio" name="settingWithinWord" value="overwrite" checked={{isSettingChecked 'settingWithinWord' 'overwrite' true}}>
            Overwrite filled in squares</label><br>

            <h5>At the end of a word:</h5>
            <label><input type="checkbox" name="settingEndWordBack" value="back" checked={{isSettingChecked 'settingEndWordBack' 'back' false}}>
            Jump back to first blank in the word (if any)</label><br>
            <!--
            // will add support for this. probably.
            <label><input type="checkbox" name="settingEndWordNext" value="next" checked={{isSettingChecked 'settingEndWordNext' 'next' false}}>
            Jump to the next clue (if not jumping back)</label><br>
            -->
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  {{else}}
  {{/if}}

</template>
